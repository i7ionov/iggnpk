<h6 class="content-block">Реестр уведомлений о выбранном собственниками помещений в многоквартирном доме способе
  формирования фонда капитального ремонта на специальном счете</h6>
<div class="dx-card content-block responsive-paddings">


  <dx-data-grid id="gridContainer"
                [dataSource]="dataSource"
                [height]="height"
                (onToolbarPreparing)="onToolbarPreparing($event)"
                (onExporting)="onExporting($event)"
                [allowColumnResizing]="true"
                [allowColumnReordering]="true"
                columnResizingMode="widget"
                [showBorders]="true"
                [showColumnLines]="true"
                [wordWrapEnabled]="true"
  >
    <dxo-state-storing [enabled]="true" type="localStorage" storageKey="notifies-table-state"></dxo-state-storing>
    <dxo-scrolling showScrollbar="always">

    </dxo-scrolling>
    <dxo-paging [pageSize]="20"></dxo-paging>
    <dxo-column-chooser [enabled]="true" mode="dragAndDrop"></dxo-column-chooser>
    <dxo-pager
      [showPageSizeSelector]="true"
      [allowedPageSizes]="[5, 10, 20, 50]"
      [showInfo]="true">
    </dxo-pager>
    <dxo-remote-operations
      [groupPaging]="true">
    </dxo-remote-operations>
    <dxo-column-fixing [enabled]="true"></dxo-column-fixing>
    <dxo-filter-row
      [visible]="true"
      [applyFilter]="currentFilter"></dxo-filter-row>
    <dxo-header-filter
      [visible]="true" [allowSearch]="true"></dxo-header-filter>
    <dxi-column
      dataField="id"
      [allowHiding]="false"
      width="80"
      dataType="number"
      cellTemplate="idCellTemplate"
      [fixed]="true"
    >
    </dxi-column>
    <dxi-column
      width="170"
      caption="Статус"
      dataField="status.text"
      dataType="string">
    </dxi-column>
    <dxi-column
      caption="Дата"
      width="100"
      dataField="date"
      dataType="date">
    </dxi-column>
    <dxi-column caption="Многоквартирный дом">
      <dxi-column
        width="210"
        caption="Наименование муниципального района (городского округа)"
        dataField="house.address.area"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="200"
        caption="Населенный пункт"
        dataField="house.address.city"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="200"
        caption="Улица (переулок, проспект)"
        dataField="house.address.street"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="100"
        caption="Дом / корпус"
        dataField="house.number"
        dataType="string">
      </dxi-column>
      <dxi-column caption="Информация из реестра лицензий">
        <dxi-column
          width="200"
          caption="Название организации"
          dataField="house.organization.name"
          dataType="string">
        </dxi-column>
        <dxi-column
          width="130"
          caption="ИНН организации"
          dataField="house.organization.inn"
          dataType="string">
        </dxi-column>
      </dxi-column>
    </dxi-column>
    <dxi-column caption="Владелец специального счета">
      <dxi-column
        width="200"
        caption="Название организации"
        dataField="organization.name"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="130"
        caption="ИНН организации"
        dataField="organization.inn"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="120"
        caption="Тип организации"
        dataField="organization.type.text"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="120"
        caption="Равен организации из реестра лицензий"
        dataField="same_organization_in_license_registry"
        dataType="string">
      </dxi-column>
    </dxi-column>
    <dxi-column caption="Кредитная организация, в которой открыт специальный счет">
      <dxi-column
        width="200"
        caption="Наименование юридического лица"
        dataField="bank.name"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="130"
        caption="ИНН"
        dataField="bank.inn"
        dataType="string">
      </dxi-column>
    </dxi-column>
    <dxi-column caption="Специальный счет">
      <dxi-column
        width="200"
        caption="Номер"
        dataField="account_number"
        dataType="string">
      </dxi-column>

      <dxi-column
        width="200"
        caption="Дата открытия"
        dataField="account_opening_date"
        dataType="date">
      </dxi-column>
    </dxi-column>

    <dxi-column
      width="150"
      caption="Ежемесячный размер взноса на капитальный ремонт, руб/кв.м"
      dataField="monthly_contribution_amount"
      dataType="number">
    </dxi-column>
    <dxi-column
      width="200"
      caption="Реквизиты протокола общего собрания собственников помещений в многоквартирном доме"
      dataField="protocol_details"
      dataType="string">
    </dxi-column>
    <dxi-column
      width="200"
      caption="Дата последней подачи сведений о взносах"
      dataField="latest_contrib_date"
      dataType="date">
    </dxi-column>
    <dxi-column
      width="200"
      caption="Комментарий"
      dataField="comment"
      dataType="string">
    </dxi-column>
    <dxi-column *ngIf="comment_visibility"
                width="200"
                caption="Комментарий2"
                dataField="comment2"
                dataType="string">
    </dxi-column>
    <dxi-column *ngIf="comment_visibility"
                caption="Исключение">
      <dxi-column
        width="100"
        caption="Дата исключения"
        dataField="date_of_exclusion"
        dataType="date">
      </dxi-column>
      <dxi-column
        width="100"
        caption="Дата закрытия счета"
        dataField="account_closing_date"
        dataType="date">
      </dxi-column>
      <dxi-column
        width="200"
        caption="Основание для исключения"
        dataField="ground_for_exclusion"
        dataType="string">
      </dxi-column>
      <dxi-column
        width="200"
        caption="Источник информации"
        dataField="source_of_information"
        dataType="string">
      </dxi-column>
    </dxi-column>
    <div *dxTemplate="let cell of 'idCellTemplate'">
      <a [routerLink]="['/pages/capital-repair-notify/', cell.text]">{{ cell.text }}</a>
    </div>
    <dxo-filter-panel [visible]="true"></dxo-filter-panel>
    <dxo-summary>
      <dxi-total-item
        column="status.text"
        summaryType="count">
      </dxi-total-item>
    </dxo-summary>

    <dxo-export [enabled]="true"></dxo-export>
  </dx-data-grid>


</div>
